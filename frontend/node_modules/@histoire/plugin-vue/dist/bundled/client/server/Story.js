import { defineComponent as a, useAttrs as i, inject as u, provide as l, onMounted as s } from "vue";
import { autoStubComponents as d } from "./stub.js";
const y = a({
  name: "HistoireStory",
  inheritAttrs: !1,
  props: {
    title: {
      type: String,
      default: null
    },
    id: {
      type: String,
      default: null
    },
    group: {
      type: String,
      default: null
    },
    layout: {
      type: Object,
      default: null
    },
    icon: {
      type: String,
      default: null
    },
    iconColor: {
      type: String,
      default: null
    },
    docsOnly: {
      type: Boolean,
      default: !1
    }
  },
  setup(t) {
    const r = i(), e = {
      id: t.id ?? r.data.id,
      title: t.title ?? r.data.fileName,
      group: t.group,
      layout: t.layout,
      icon: t.icon,
      iconColor: t.iconColor,
      docsOnly: t.docsOnly,
      variants: []
    }, n = u("addStory", null);
    return n == null || n(e), l("story", e), l("addVariant", (o) => {
      e.variants.push(o);
    }), s(() => {
      e.variants.length || e.variants.push({
        id: "_default",
        title: "default"
      });
    }), {
      story: e
    };
  },
  render() {
    var r, e;
    let t = !1;
    try {
      const n = (e = (r = this.$slots).default) == null ? void 0 : e.call(r, {
        get state() {
          return t = !0, {};
        }
      });
      return Array.isArray(n) && d(n), n;
    } catch (n) {
      return t || console.error(n), null;
    }
  }
});
export {
  y as default
};
